extends: ["spectral:oas"]
rules:
  # Ensure operationId present and unique
  operation-operationId: true
  # Enforce 2xx/4xx/5xx response ranges
  operation-success-response: true
  # Avoid empty descriptions
  operation-description: true
  # Tags required per operation
  operation-tags: true
  # Encourage examples in responses
  oas3-response-contains-example:
    description: "Prefer including at least one example in responses"
    message: "Response schema should include examples where possible."
    severity: warn
    given: $.paths[*][*].responses[*].content[*].schema
    then:
      field: example
      function: truthy
